{
  "info": {
    "name": "Airline Booking - Search Tests",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Bulk Ingest Flights",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"flights\": [\n    {\n      \"src\": \"DEL\",\n      \"dest\": \"BOM\",\n      \"name\": \"DEL-BOM-DIRECT-EXPENSIVE\",\n      \"arrivalTime\": \"2025-12-15T09:00:00\",\n      \"departureTime\": \"2025-12-15T06:00:00\",\n      \"months\": 1,\n      \"cost\": 5200,\n      \"seats\": 80\n    },\n    {\n      \"src\": \"DEL\",\n      \"dest\": \"JAI\",\n      \"name\": \"DEL-JAI-CHEAP\",\n      \"arrivalTime\": \"2025-12-15T07:30:00\",\n      \"departureTime\": \"2025-12-15T06:00:00\",\n      \"months\": 1,\n      \"cost\": 1200,\n      \"seats\": 50\n    },\n    {\n      \"src\": \"JAI\",\n      \"dest\": \"BOM\",\n      \"name\": \"JAI-BOM-CHEAP\",\n      \"arrivalTime\": \"2025-12-15T10:30:00\",\n      \"departureTime\": \"2025-12-15T08:30:00\",\n      \"months\": 1,\n      \"cost\": 1300,\n      \"seats\": 50\n    },\n    {\n      \"src\": \"DEL\",\n      \"dest\": \"BLR\",\n      \"name\": \"DEL-BLR-MID\",\n      \"arrivalTime\": \"2025-12-15T08:30:00\",\n      \"departureTime\": \"2025-12-15T05:30:00\",\n      \"months\": 1,\n      \"cost\": 2800,\n      \"seats\": 55\n    },\n    {\n      \"src\": \"BLR\",\n      \"dest\": \"BOM\",\n      \"name\": \"BLR-BOM-MID\",\n      \"arrivalTime\": \"2025-12-15T11:00:00\",\n      \"departureTime\": \"2025-12-15T09:00:00\",\n      \"months\": 1,\n      \"cost\": 1500,\n      \"seats\": 55\n    }\n  ]\n}"
        },
        "url": {
          "raw": "http://localhost:8080/flights/bulk",
          "host": ["localhost"],
          "port": "8080",
          "path": ["flights", "bulk"]
        }
      }
    },
    {
      "name": "Search Direct (k=0)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/search?src=DEL&dest=BOM&date=2025-12-15&stops=0",
          "host": ["localhost"],
          "port": "8080",
          "path": ["search"],
          "query": [
            { "key": "src", "value": "DEL" },
            { "key": "dest", "value": "BOM" },
            { "key": "date", "value": "2025-12-15" },
            { "key": "stops", "value": "0" }
          ]
        }
      }
    },
    {
      "name": "Search 1 Stop (k=1)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/search?src=DEL&dest=BOM&date=2025-12-15&stops=1",
          "host": ["localhost"],
          "port": "8080",
          "path": ["search"],
          "query": [
            { "key": "src", "value": "DEL" },
            { "key": "dest", "value": "BOM" },
            { "key": "date", "value": "2025-12-15" },
            { "key": "stops", "value": "1" }
          ]
        }
      }
    },
    {
      "name": "Search 2 Stops (k=2) different dest",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/search?src=DEL&dest=BOM&date=2025-12-15&stops=2",
          "host": ["localhost"],
          "port": "8080",
          "path": ["search"],
          "query": [
            { "key": "src", "value": "DEL" },
            { "key": "dest", "value": "BOM" },
            { "key": "date", "value": "2025-12-15" },
            { "key": "stops", "value": "2" }
          ]
        }
      }
    },
    {
      "name": "Search Different Date",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/search?src=DEL&dest=BOM&date=2025-12-20&stops=1",
          "host": ["localhost"],
          "port": "8080",
          "path": ["search"],
          "query": [
            { "key": "src", "value": "DEL" },
            { "key": "dest", "value": "BOM" },
            { "key": "date", "value": "2025-12-20" },
            { "key": "stops", "value": "1" }
          ]
        }
      }
    },
    {
      "name": "Search Invalid (missing route)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://localhost:8080/search?src=DEL&dest=XXX&date=2025-12-15&stops=2",
          "host": ["localhost"],
          "port": "8080",
          "path": ["search"],
          "query": [
            { "key": "src", "value": "DEL" },
            { "key": "dest", "value": "XXX" },
            { "key": "date", "value": "2025-12-15" },
            { "key": "stops", "value": "2" }
          ]
        }
      }
    }
  ]
}

